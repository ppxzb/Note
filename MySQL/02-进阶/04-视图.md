## 一、基本语法

### 1. 创建

```sql
CREATE [OR REPLACE] VIEW 视图名称[(列名列表)];
```

### 2. 查询

- 查看创建视图语句
```sql
SHOW CREATE VIEW 视图名称;
```

- 查询视图数据
```sql
SELECT * FROM 视图名称 ...;
```

### 3. 修改

- 方法一（重建）
```sql
CREATE [OR REPLACE] VIEW 视图名称[(列名列表)];
```

- 方法二（ALTER）
```sql
ALTER VIEW 视图名称[(列名列表)] AS SELECT语句 [WITH[CASCADED | LOCAL]];
```

### 4. 删除

```sql
DROP VIEW [IF EXISTS] 视图名称 [,视图名称];
```

## 二、检查选项（WITH CHECK OPTION）

### 1. 概念

```text
当使用 WITH CHECK OPTION 子句创建视图时，MySQL会通过视图检查正在更改的每个行，例如插入，更新，删除，以使其符合视图的定义
```

```text
MySQL允许基于另一个视图创建视图，它还会检查依赖视图中的规则以保持一致性。为了确定检查的范围，mysql提供了两个选项:CASCADED和LOCAL，默认值为CASCADED
```

- `CASCADED`：检查当前视图以及所依赖的所有视图  
- `LOCAL`：检查当前视图  

## 三、更新（可更新性限制）

视图包含以下任意一项，则不可更新：
```text
聚合函数或窗口函数（SUM()、MIN()、MAX()、COUNT()等）
DISTINCT
GROUP BY
HAVING
UNION 或者 UNION ALL
```

## 四、作用

### 1. 简单

```text
视图不仅可以简化用户对数据的理解，也可以简化他们的操作。那些被经常使用的查询可以被定义为视图，从而使得用户不必为以后的操作每次指定全部的条件
```

### 2. 安全

```text
数据库可以授权，但不能授权到数据库特定行和特定的列上。通过视图用户只能查询和修改他们所能见到的数据
```

### 3. 数据独立

```text
视图可帮助用户屏蔽真实表结构变化带来的影响
```
